import{a as F,b as U,e as k,g as I,h as L,i as N,k as P}from"./chunk-TJEJZHC3.js";import{a as D,b as W}from"./chunk-OJR6FQHL.js";import{$ as g,B as x,C as _,J as p,K as c,L as v,M as b,N as C,O as t,P as i,Q as T,S as d,T as u,W as r,X as S,Y as f,Z as A,aa as y,ba as h,ea as w,oa as E,wa as M,x as a}from"./chunk-JVVBI7EJ.js";var V=s=>["/assets/detail",s],j=(s,e)=>e.assetID;function B(s,e){if(s&1&&(t(0,"div",18)(1,"div",21)(2,"div",22)(3,"h3",23),r(4),i(),t(5,"span",24),r(6),i()(),t(7,"p",25),r(8),i()()()),s&2){let n=e.$implicit;C("routerLink",w(4,V,n.assetID)),a(4),S(n.assetName),a(2),f(" ",n.assetType," "),a(2),f(" ",n.description||"No description available"," ")}}function H(s,e){s&1&&r(0," No assets match your search criteria ")}function R(s,e){s&1&&r(0," You don't have any assets yet ")}function Y(s,e){if(s&1&&(t(0,"div",19)(1,"div",26)(2,"p",27),p(3,H,1,0)(4,R,1,0),i()()()),s&2){let n=u();a(3),c(n.searchTerm||n.filterType?3:4)}}function q(s,e){if(s&1&&(t(0,"div",20),r(1),i()),s&2){let n=u();a(),A(" Showing ",n.filteredAssets.length," of ",n.assets.length," assets ")}}var O=class s{constructor(e){this.assetService=e}assets=[];filteredAssets=[];loading=!1;errorMessage="";searchTerm="";filterType="";ngOnInit(){this.loadAssets()}loadAssets(){this.loading=!0,this.assetService.getAssets().subscribe({next:e=>{this.assets=e,this.applyFilters(),this.loading=!1},error:e=>{console.error("Error loading assets:",e),this.errorMessage="Failed to load assets",this.loading=!1}})}applyFilters(){this.filteredAssets=this.assets.filter(e=>{let n=e.assetName.toLowerCase().includes(this.searchTerm.toLowerCase())||e.assetType.toLowerCase().includes(this.searchTerm.toLowerCase())||e.description&&e.description.toLowerCase().includes(this.searchTerm.toLowerCase()),o=!this.filterType||e.assetType===this.filterType;return n&&o})}clearFilters(){this.searchTerm="",this.filterType="",this.applyFilters()}static \u0275fac=function(n){return new(n||s)(x(W))};static \u0275cmp=_({type:s,selectors:[["app-user-assets"]],decls:35,vars:4,consts:[[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mt-1","text-gray-600"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","search","placeholder","Search by name, type, description...",1,"block","w-full","px-3","py-2","text-base","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm",3,"ngModelChange","input","ngModel"],["for","filterType",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","filterType",1,"block","w-full","pl-3","pr-10","py-2","text-base","border-gray-300","focus:outline-none","focus:ring-primary","focus:border-primary","sm:text-sm","rounded-md","border",3,"ngModelChange","change","ngModel"],["value",""],["value","Home"],["value","Vehicle"],["value","Personal Property"],[1,"flex","items-end"],[1,"w-full","px-4","py-2","bg-gray-200","text-gray-700","rounded-md","hover:bg-gray-300","transition-colors","font-medium","text-sm",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-white","rounded-lg","shadow-md","overflow-hidden","hover:shadow-lg","transition-shadow","cursor-pointer",3,"routerLink"],[1,"col-span-full"],[1,"mt-6","text-sm","text-gray-600","text-center"],[1,"p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"px-2","py-1","text-xs","font-semibold","rounded-full","bg-blue-100","text-blue-800"],[1,"text-sm","text-gray-600"],[1,"bg-white","rounded-lg","shadow-md","p-8","text-center"],[1,"text-gray-500"]],template:function(n,o){n&1&&(T(0,"app-navbar"),t(1,"div",0)(2,"div",1)(3,"h1",2),r(4,"My Assets"),i(),t(5,"p",3),r(6,"View and manage your assets"),i()(),t(7,"div",4)(8,"h3",5),r(9,"Search & Filters"),i(),t(10,"div",6)(11,"div")(12,"label",7),r(13,"Search"),i(),t(14,"input",8),h("ngModelChange",function(l){return y(o.searchTerm,l)||(o.searchTerm=l),l}),d("input",function(){return o.applyFilters()}),i()(),t(15,"div")(16,"label",9),r(17,"Asset Type"),i(),t(18,"select",10),h("ngModelChange",function(l){return y(o.filterType,l)||(o.filterType=l),l}),d("change",function(){return o.applyFilters()}),t(19,"option",11),r(20,"All Types"),i(),t(21,"option",12),r(22,"Home"),i(),t(23,"option",13),r(24,"Vehicle"),i(),t(25,"option",14),r(26,"Personal Property"),i()()(),t(27,"div",15)(28,"button",16),d("click",function(){return o.clearFilters()}),r(29," Clear Filters "),i()()()(),t(30,"div",17),v(31,B,9,6,"div",18,j,!1,Y,5,1,"div",19),i(),p(34,q,2,2,"div",20),i()),n&2&&(a(14),g("ngModel",o.searchTerm),a(4),g("ngModel",o.filterType),a(13),b(o.filteredAssets),a(3),c(o.filteredAssets.length>0?34:-1))},dependencies:[E,P,L,N,F,I,U,k,M,D],encapsulation:2})};export{O as UserAssetsComponent};
