import{a as E,b as L,c as P,d as j,e as F,f as A,j as N,k as D}from"./chunk-TJEJZHC3.js";import{$ as u,B as d,C as y,J as m,K as p,N as x,O as e,P as t,Q as h,S as b,T as v,W as i,X as S,Y as w,aa as c,ba as g,oa as C,va as _,x as a,za as M}from"./chunk-JVVBI7EJ.js";function I(r,o){if(r&1&&(e(0,"div",11)(1,"p",17),i(2),t()()),r&2){let s=v();a(2),S(s.errorMessage)}}function R(r,o){r&1&&(e(0,"span"),i(1,"Signing in..."),t())}function W(r,o){r&1&&(e(0,"span"),i(1,"Sign in"),t())}var T=class r{constructor(o,s){this.authService=o;this.router=s}credentials={email:"",password:""};errorMessage="";loading=!1;currentYear=new Date().getFullYear();onSubmit(){if(!this.credentials.email||!this.credentials.password){this.errorMessage="Please enter email and password";return}this.loading=!0,this.errorMessage="",this.authService.login(this.credentials).subscribe({next:o=>{this.loading=!1,o.user.role==="Admin"?this.router.navigate(["/dashboard/admin"]):this.router.navigate(["/dashboard/user"])},error:o=>{this.loading=!1,this.errorMessage=o.error?.message||"Invalid email or password"}})}static \u0275fac=function(s){return new(s||r)(d(M),d(_))};static \u0275cmp=y({type:r,selectors:[["app-login"]],decls:37,vars:6,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"mt-16"],["src","/jpfLogoFull.png","alt","JPF Logo Full",1,"mx-auto","h-30","w-auto"],[1,"mt-1","text-center","text-md","text-gray-600"],[1,"mt-8","space-y-6",3,"ngSubmit"],[1,"rounded-md","shadow-sm","-space-y-px"],["for","email",1,"sr-only"],["id","email","name","email","type","email","required","","placeholder","Email address",1,"appearance-none","rounded-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-t-md","focus:outline-none","focus:ring-primary","focus:border-primary","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],["for","password",1,"sr-only"],["id","password","name","password","type","password","required","","placeholder","Password",1,"appearance-none","rounded-none","relative","block","w-full","px-3","py-2","border","border-gray-300","placeholder-gray-500","text-gray-900","rounded-b-md","focus:outline-none","focus:ring-primary","focus:border-primary","focus:z-10","sm:text-sm",3,"ngModelChange","ngModel"],[1,"rounded-md","bg-red-50","p-4"],["type","submit",1,"group","relative","w-full","flex","justify-center","py-2","px-4","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-primary","hover:bg-opacity-90","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-primary","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"mt-4","text-center","text-sm","text-gray-600"],[1,"mt-8","text-center","text-sm","text-gray-500"],[1,"mt-5"],[1,"mt-0"],[1,"text-sm","text-red-800"]],template:function(s,n){s&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),h(3,"img",3),e(4,"p",4)(5,"strong"),i(6,"JPF Help Desk Management System"),t()()(),e(7,"form",5),b("ngSubmit",function(){return n.onSubmit()}),e(8,"div",6)(9,"div")(10,"label",7),i(11,"Email address"),t(),e(12,"input",8),g("ngModelChange",function(l){return c(n.credentials.email,l)||(n.credentials.email=l),l}),t()(),e(13,"div")(14,"label",9),i(15,"Password"),t(),e(16,"input",10),g("ngModelChange",function(l){return c(n.credentials.password,l)||(n.credentials.password=l),l}),t()()(),m(17,I,3,1,"div",11),e(18,"div")(19,"button",12),m(20,R,2,0,"span")(21,W,2,0,"span"),t()(),e(22,"div",13)(23,"p")(24,"strong"),i(25,"Demo Credentials:"),t()(),e(26,"p"),i(27,"Admin: kory@jpf.com / Password123"),t(),e(28,"p"),i(29,"User: john@jpf.com / Password123"),t()()()(),e(30,"footer",14)(31,"p",15)(32,"strong"),i(33,"Questions? Contact Us"),t(),i(34," | info@jpfcapital.com"),t(),e(35,"p",16),i(36),t()()()),s&2&&(a(12),u("ngModel",n.credentials.email),a(4),u("ngModel",n.credentials.password),a(),p(n.errorMessage?17:-1),a(2),x("disabled",n.loading),a(),p(n.loading?20:21),a(16),w("\xA9 ",n.currentYear," JPF. All rights reserved."))},dependencies:[C,D,A,E,L,P,N,F,j],encapsulation:2})};export{T as LoginComponent};
