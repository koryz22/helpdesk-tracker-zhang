import{Ba as v,C as u,Ca as i,R as d,ka as h,m as r,s,sa as l,ua as f,va as C,xa as A,ya as m}from"./chunk-IIWWASKY.js";var p=(t,n)=>{let e=r(i),o=r(m);return e.isAuthenticated()?!0:(o.navigate(["/login"]),!1)},c=(t,n)=>{let e=r(i),o=r(m);return e.isAuthenticated()&&e.isAdmin()?!0:(o.navigate(["/dashboard/user"]),!1)};var g=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-NIGLTN2K.js").then(t=>t.LoginComponent)},{path:"dashboard",canActivate:[p],children:[{path:"",redirectTo:"user",pathMatch:"full"},{path:"user",loadComponent:()=>import("./chunk-2RZUC57I.js").then(t=>t.UserDashboardComponent)},{path:"admin",canActivate:[c],loadComponent:()=>import("./chunk-B4LZIEBE.js").then(t=>t.AdminDashboardComponent)}]},{path:"assets",canActivate:[p],children:[{path:"",redirectTo:"user",pathMatch:"full"},{path:"detail/:id",loadComponent:()=>import("./chunk-SZKG3KI2.js").then(t=>t.AssetDetailComponent)},{path:"user",loadComponent:()=>import("./chunk-T4QRO6SI.js").then(t=>t.UserAssetsComponent)},{path:"admin",canActivate:[c],loadComponent:()=>import("./chunk-VB7NMFJG.js").then(t=>t.AdminAssetsComponent)}]},{path:"tickets",canActivate:[p],children:[{path:"detail/:id",loadComponent:()=>import("./chunk-USKMNK5J.js").then(t=>t.TicketDetailComponent)}]},{path:"**",redirectTo:"/login"}];var D=(t,n)=>{let o=r(i).getToken();if(o){let F=t.clone({headers:t.headers.set("Authorization",`Bearer ${o}`)});return n(F)}return n(t)};var b={providers:[s(),h({eventCoalescing:!0}),v(g),f(C([D]))]};var a=class t{title="JPF Help Desk";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){e&1&&d(0,"router-outlet")},dependencies:[A],encapsulation:2})};l(a,b).catch(t=>console.error(t));
